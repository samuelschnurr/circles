@page "/"
@using Io.Schnurr.Circles.App.Store.Board;
@using Io.Schnurr.Circles.App.Components.Advertisements
@inherits Fluxor.Blazor.Web.Components.FluxorComponent
@inject IState<AppState> AppState
@inject IState<BoardState> BoardState

<PageTitle>Board</PageTitle>

@if (IsLoading)
{
    <ProgressCircular IsDrawerOpen="AppState.Value.IsDrawerOpen" />
    return;
}

<AdvertisementToolBar ShowTileView="ShowTileView"
                      ToggleTileView="ToggleTileView"
                      OnSearch="LoadAdvertisements"
                      OnSort="SortAdvertisements" />


<AdvertisementOverview Data="advertisements"
                       ShowTileView="ShowTileView"
                       IsDrawerOpen="AppState.Value.IsDrawerOpen"/>
@page "/"
@using Io.Schnurr.Circles.App.Store.Board;
@using Io.Schnurr.Circles.App.Components.Advertisements
@inherits Fluxor.Blazor.Web.Components.FluxorComponent
@inject IState<AppState> AppState
@inject IState<BoardState> BoardState

<PageTitle>Board</PageTitle>

@if (IsLoading)
{
    <ProgressCircular IsDrawerOpen="AppState.Value.IsDrawerOpen" />
    return;
}

<ToolBar ShowTileView="ShowTileView"
                      ToggleTileView="ToggleTileView"
                      SearchString="@SearchString"
                      SortColumn="SortColumn"
                      SortDirection="SortDirection"
                      OnSearchChanged="SearchByString"
                      OnSortColumnChanged="OrderBySortColumn"
                      OnSortDirectionChanged="OrderBySortDirection" />


<AdvertisementOverview Data="advertisements"
                       ShowTileView="ShowTileView"
                       IsDrawerOpen="AppState.Value.IsDrawerOpen"/>